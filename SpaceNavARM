Instructions to recompile the JPL NAIF cspice toolkit for use on ARM. This was accomplished on 2025-11-05 on a Raspberry Pi 4B with 8 gb RAM running Ubuntu 25.04 and compiled with gcc version 14.2.0.

1. Update everything: sudo apt update | sudo apt upgrade -y

2. Install csh (the C shell utility): sudo apt install csh

3. Make a directory for your space navigation project: mkdir yourprojectname

4. cd yourprojectname

5. Download the cspice toolkit with: wget https://naif.jpl.nasa.gov/pub/naif/toolkit/C/PC_Linux_GCC_64bit/packages/cspice.tar.Z
   Also download: wget https://naif.jpl.nasa.gov/pub/naif/toolkit/C/PC_Linux_GCC_64bit/packages/N0067
	Disregard the instructions on the NAIF website to also download the importCSpice.h file. That's unecessary for ARM since you're goinng to recompile the whole thing.

6. Expand the tarball: tar -xf cspice.tar.Z

7. There is now a new directory: /cspice

8. Get in there: cd cspice

9. In /cspice there are two directories filled with precompiled tools for use with 64 bit CPUs. Delete those to empty them and recreate them.
	rm -rf exe lib | mkdir exe lib

10. Now go up to /yourprojectname and enter the following temporary flags for the gcc compiler:
	export TKCOMPILER="gcc"
        export TKCOMPILEOPTIONS="-c -ansi -O2 -DNON_UNIX_STDIO"
        export TKLINKOPTIONS="-lm"

11. Back to the cspice directory: cd cspice

12. Run the csh script. On a Pi 4B it took about 10 minutes to compile: ./makeall.csh 

13. You will need various kernels depending on your project goals. Those are found here: https://naif.jpl.nasa.gov/pub/naif/generic_kernels/
    It may be easiest to make a /yourprojectname/kernels directory, download the kernels there, and in /yourprojectname make a kernels.mk file where you can list the kernels to use in the below format.
    This is just an example, you may or may not need all of these: 

\begindata
    KERNELS_TO_LOAD = (
        'kernels/de421.bsp'
        'kernels/naif0012.tls'
        'kernels/de440.bsp'
        'kernels/de440s.bsp'
        'kernels/de442.bsp'
        'kernels/gm_de440.tpc'
        'kernels/pck00010.tpc'
        'kernels/pck00011.tpc'
        'kernels/naif0011.tls'
        'kernels/L1_de441.bsp'
        'kernels/L2_de441.bsp'
        'kernels/L4_de441.bsp'
        'kernels/L5_de441.bsp'
    )

\begintext

14. Enjoy. Written by Cole B. Combs on 2025-11-05 and published under the Unlicense as a gift with zero warranty.
